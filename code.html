<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Basic E-commerce Store</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Font: Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6; /* Light gray background */
        }
        /* Custom scrollbar for better aesthetics */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #e0e0e0;
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #555;
        }
    </style>
</head>
<body class="min-h-screen flex flex-col">

    <!-- Header -->
    <header class="bg-gradient-to-r from-blue-600 to-purple-700 text-white p-4 shadow-lg">
        <div class="container mx-auto flex justify-between items-center">
            <h1 class="text-3xl font-bold rounded-lg p-2 bg-white bg-opacity-20">My Awesome Store</h1>
            <nav>
                <button id="viewCartButton" class="bg-white text-blue-700 px-6 py-2 rounded-full font-semibold hover:bg-blue-100 transition-colors duration-300 shadow-md">
                    View Cart (<span id="cartItemCount">0</span>)
                </button>
            </nav>
        </div>
    </header>

    <!-- Main Content Area -->
    <main class="container mx-auto p-6 flex-grow">

        <!-- Product Listing Section -->
        <section id="productsSection" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
            <!-- Products will be dynamically loaded here by JavaScript -->
        </section>

        <!-- Shopping Cart Modal (Hidden by default) -->
        <div id="cartModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
            <div class="bg-white rounded-xl shadow-2xl p-8 m-4 w-full max-w-lg transform transition-all duration-300 scale-95 opacity-0" id="cartModalContent">
                <div class="flex justify-between items-center border-b pb-4 mb-4">
                    <h2 class="text-3xl font-bold text-gray-800">Your Shopping Cart</h2>
                    <button id="closeCartButton" class="text-gray-500 hover:text-gray-800 text-3xl font-bold">&times;</button>
                </div>
                <div id="cartItems" class="max-h-80 overflow-y-auto mb-6 pr-2">
                    <!-- Cart items will be dynamically loaded here -->
                    <p id="emptyCartMessage" class="text-gray-600 text-center py-4">Your cart is empty.</p>
                </div>
                <div class="border-t pt-4 mt-4 flex justify-between items-center">
                    <p class="text-xl font-semibold text-gray-800">Total: $<span id="cartTotal">0.00</span></p>
                    <button id="checkoutButton" class="bg-green-600 text-white px-8 py-3 rounded-full font-bold hover:bg-green-700 transition-colors duration-300 shadow-lg">
                        Proceed to Checkout
                    </button>
                </div>
            </div>
        </div>

        <!-- Confirmation/Message Modal (Hidden by default) -->
        <div id="messageModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
            <div class="bg-white rounded-xl shadow-2xl p-8 m-4 w-full max-w-sm text-center transform transition-all duration-300 scale-95 opacity-0" id="messageModalContent">
                <h2 id="messageTitle" class="text-2xl font-bold text-gray-800 mb-4"></h2>
                <p id="messageText" class="text-gray-700 mb-6"></p>
                <button id="closeMessageButton" class="bg-blue-600 text-white px-6 py-2 rounded-full font-semibold hover:bg-blue-700 transition-colors duration-300 shadow-md">
                    OK
                </button>
            </div>
        </div>

    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white p-4 text-center mt-auto shadow-inner">
        <div class="container mx-auto">
            <p>&copy; 2025 My Awesome Store. All rights reserved.</p>
        </div>
    </footer>

    <script>
        // --- Product Data ---
        const products = [
            {
                id: 1,
                name: 'Stylish Headphones',
                price: 79.99,
                image: 'https://placehold.co/400x300/ADD8E6/000000?text=Headphones',
                description: 'Experience immersive sound with these comfortable headphones.'
            },
            {
                id: 2,
                name: 'Smartwatch Pro',
                price: 129.99,
                image: 'https://placehold.co/400x300/90EE90/000000?text=Smartwatch',
                description: 'Stay connected and track your fitness with this advanced smartwatch.'
            },
            {
                id: 3,
                name: 'Portable Bluetooth Speaker',
                price: 49.99,
                image: 'https://placehold.co/400x300/FFD700/000000?text=Speaker',
                description: 'Powerful sound in a compact design, perfect for on-the-go.'
            },
            {
                id: 4,
                name: 'Wireless Ergonomic Mouse',
                price: 29.99,
                image: 'https://placehold.co/400x300/FFB6C1/000000?text=Mouse',
                description: 'Comfortable and precise for long hours of work or gaming.'
            },
            {
                id: 5,
                name: 'HD Webcam',
                price: 39.99,
                image: 'https://placehold.co/400x300/87CEEB/000000?text=Webcam',
                description: 'Crystal clear video calls for work or connecting with loved ones.'
            },
            {
                id: 6,
                name: 'Gaming Keyboard',
                price: 89.99,
                image: 'https://placehold.co/400x300/DA70D6/000000?text=Keyboard',
                description: 'Mechanical keys for ultimate precision and responsiveness in games.'
            },
            {
                id: 7,
                name: 'External SSD 1TB',
                price: 109.99,
                image: 'https://placehold.co/400x300/F0E68C/000000?text=SSD',
                description: 'Blazing fast storage for all your files and games.'
            },
            {
                id: 8,
                name: 'USB-C Hub',
                price: 24.99,
                image: 'https://placehold.co/400x300/DDA0DD/000000?text=USB-C+Hub',
                description: 'Expand your laptop\'s connectivity with multiple ports.'
            }
        ];

        // --- Global State for Shopping Cart ---
        let cart = []; // Stores objects like { productId: 1, quantity: 2 }

        // --- DOM Elements ---
        const productsSection = document.getElementById('productsSection');
        const viewCartButton = document.getElementById('viewCartButton');
        const cartItemCount = document.getElementById('cartItemCount');
        const cartModal = document.getElementById('cartModal');
        const cartModalContent = document.getElementById('cartModalContent');
        const closeCartButton = document.getElementById('closeCartButton');
        const cartItemsContainer = document.getElementById('cartItems');
        const emptyCartMessage = document.getElementById('emptyCartMessage');
        const cartTotalSpan = document.getElementById('cartTotal');
        const checkoutButton = document.getElementById('checkoutButton');
        const messageModal = document.getElementById('messageModal');
        const messageModalContent = document.getElementById('messageModalContent');
        const messageTitle = document.getElementById('messageTitle');
        const messageText = document.getElementById('messageText');
        const closeMessageButton = document.getElementById('closeMessageButton');

        // --- Functions ---

        /**
         * Renders all products onto the page.
         */
        function renderProducts() {
            productsSection.innerHTML = ''; // Clear existing products
            products.forEach(product => {
                const productCard = `
                    <div class="bg-white rounded-xl shadow-lg overflow-hidden flex flex-col transform hover:scale-105 transition-transform duration-300">
                        <img src="${product.image}" alt="${product.name}" class="w-full h-48 object-cover">
                        <div class="p-6 flex flex-col flex-grow">
                            <h3 class="text-xl font-semibold text-gray-900 mb-2">${product.name}</h3>
                            <p class="text-gray-600 text-sm mb-4 flex-grow">${product.description}</p>
                            <div class="flex justify-between items-center mt-auto">
                                <span class="text-2xl font-bold text-blue-700">$${product.price.toFixed(2)}</span>
                                <button data-product-id="${product.id}"
                                        class="add-to-cart-btn bg-blue-600 text-white px-5 py-2 rounded-full font-semibold hover:bg-blue-700 transition-colors duration-300 shadow-md">
                                    Add to Cart
                                </button>
                            </div>
                        </div>
                    </div>
                `;
                productsSection.innerHTML += productCard;
            });
            addAddToCartEventListeners(); // Attach event listeners after rendering
        }

        /**
         * Attaches click event listeners to all "Add to Cart" buttons.
         */
        function addAddToCartEventListeners() {
            document.querySelectorAll('.add-to-cart-btn').forEach(button => {
                button.addEventListener('click', (event) => {
                    const productId = parseInt(event.target.dataset.productId);
                    addToCart(productId);
                });
            });
        }

        /**
         * Adds a product to the shopping cart or increments its quantity.
         * @param {number} productId The ID of the product to add.
         */
        function addToCart(productId) {
            const existingItem = cart.find(item => item.productId === productId);
            if (existingItem) {
                existingItem.quantity++;
            } else {
                cart.push({ productId: productId, quantity: 1 });
            }
            updateCartUI();
            showMessage('Item Added!', `${products.find(p => p.id === productId).name} has been added to your cart.`, 'success');
        }

        /**
         * Updates the shopping cart UI (item count in header and cart modal content).
         */
        function updateCartUI() {
            // Update item count in header
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            cartItemCount.textContent = totalItems;

            // Update cart modal content
            cartItemsContainer.innerHTML = ''; // Clear previous items
            let total = 0;

            if (cart.length === 0) {
                emptyCartMessage.style.display = 'block';
            } else {
                emptyCartMessage.style.display = 'none';
                cart.forEach(item => {
                    const product = products.find(p => p.id === item.productId);
                    if (product) {
                        const itemTotal = product.price * item.quantity;
                        total += itemTotal;
                        const cartItemHtml = `
                            <div class="flex justify-between items-center py-3 border-b last:border-b-0">
                                <div class="flex items-center">
                                    <img src="${product.image}" alt="${product.name}" class="w-16 h-16 rounded-lg object-cover mr-4">
                                    <div>
                                        <p class="font-semibold text-gray-900">${product.name}</p>
                                        <p class="text-sm text-gray-600">$${product.price.toFixed(2)} x ${item.quantity}</p>
                                    </div>
                                </div>
                                <div class="flex items-center">
                                    <span class="font-bold text-gray-800">$${itemTotal.toFixed(2)}</span>
                                    <button data-product-id="${product.id}" class="remove-from-cart-btn text-red-500 ml-4 hover:text-red-700 transition-colors duration-200">
                                        &times;
                                    </button>
                                </div>
                            </div>
                        `;
                        cartItemsContainer.innerHTML += cartItemHtml;
                    }
                });
                addRemoveFromCartEventListeners(); // Attach event listeners for remove buttons
            }
            cartTotalSpan.textContent = total.toFixed(2);
        }

        /**
         * Attaches click event listeners to all "Remove from Cart" buttons.
         */
        function addRemoveFromCartEventListeners() {
            document.querySelectorAll('.remove-from-cart-btn').forEach(button => {
                button.addEventListener('click', (event) => {
                    const productId = parseInt(event.target.dataset.productId);
                    removeFromCart(productId);
                });
            });
        }

        /**
         * Removes a product from the shopping cart.
         * @param {number} productId The ID of the product to remove.
         */
        function removeFromCart(productId) {
            cart = cart.filter(item => item.productId !== productId);
            updateCartUI();
            showMessage('Item Removed!', 'The item has been removed from your cart.', 'info');
        }

        /**
         * Displays a generic message modal.
         * @param {string} title The title of the message.
         * @param {string} text The content of the message.
         * @param {string} type (Optional) Type of message, e.g., 'success', 'error', 'info'.
         */
        function showMessage(title, text, type = 'info') {
            messageTitle.textContent = title;
            messageText.textContent = text;

            // Optional: Add styling based on message type
            messageModalContent.classList.remove('bg-red-100', 'bg-green-100', 'bg-blue-100');
            if (type === 'success') {
                messageTitle.classList.add('text-green-700');
            } else if (type === 'error') {
                messageTitle.classList.add('text-red-700');
            } else {
                messageTitle.classList.add('text-blue-700');
            }

            messageModal.classList.remove('hidden');
            setTimeout(() => {
                messageModalContent.classList.remove('scale-95', 'opacity-0');
                messageModalContent.classList.add('scale-100', 'opacity-100');
            }, 10); // Small delay for transition
        }

        /**
         * Hides the generic message modal.
         */
        function hideMessage() {
            messageModalContent.classList.remove('scale-100', 'opacity-100');
            messageModalContent.classList.add('scale-95', 'opacity-0');
            setTimeout(() => {
                messageModal.classList.add('hidden');
            }, 300); // Match transition duration
        }

        /**
         * Simulates the checkout process.
         */
        function simulateCheckout() {
            if (cart.length === 0) {
                showMessage('Checkout Failed', 'Your cart is empty. Please add items before checking out.', 'error');
                return;
            }
            // In a real application, this would send data to a backend for payment processing.
            // For this basic version, we just clear the cart and show a success message.
            cart = [];
            updateCartUI();
            hideCartModal();
            showMessage('Order Placed!', 'Thank you for your purchase! Your order has been placed.', 'success');
        }

        /**
         * Displays the shopping cart modal.
         */
        function showCartModal() {
            updateCartUI(); // Ensure cart content is up-to-date
            cartModal.classList.remove('hidden');
            setTimeout(() => {
                cartModalContent.classList.remove('scale-95', 'opacity-0');
                cartModalContent.classList.add('scale-100', 'opacity-100');
            }, 10); // Small delay for transition
        }

        /**
         * Hides the shopping cart modal.
         */
        function hideCartModal() {
            cartModalContent.classList.remove('scale-100', 'opacity-100');
            cartModalContent.classList.add('scale-95', 'opacity-0');
            setTimeout(() => {
                cartModal.classList.add('hidden');
            }, 300); // Match transition duration
        }

        // --- Event Listeners ---
        window.onload = () => {
            renderProducts(); // Render products when the page loads
            updateCartUI(); // Initialize cart count
        };

        viewCartButton.addEventListener('click', showCartModal);
        closeCartButton.addEventListener('click', hideCartModal);
        checkoutButton.addEventListener('click', simulateCheckout);
        closeMessageButton.addEventListener('click', hideMessage);

        // Close modals when clicking outside (optional, but good UX)
        cartModal.addEventListener('click', (event) => {
            if (event.target === cartModal) {
                hideCartModal();
            }
        });
        messageModal.addEventListener('click', (event) => {
            if (event.target === messageModal) {
                hideMessage();
            }
        });

    </script>
</body>
</html>
